# Лабораторная работа #3: "Разработка приложения"

## Цели

  1. Продолжить освоение техники написания модульных тестов на основе Google
     Test.
  1. Освоить инструмент CTest.

## Задачи

  1. Необходимо добавить еще одну сборку в свой CMake проект — консольное
     приложение, позволяющее пользоваться вашим классом.
  2. Центральной частью новой сборки должен быть класс `Application`, который
     инкапсулирует всю работу с пользователем. Он должен принимать те же
     аргументы, что и функция main, и возвращать строку, которую нужно
     напечатать в консоль. Класс должен быть покрыт тестами.
  3. Последним шагом следует добавить CTest-тесты для бинарника. Они могут быть
     легковесными, но проверять что мы правильно соединили класс `Application` и
     функцию `main`.

## Типичные ошибки

  - TBD

## Детальные инструкции

### Первичная настройка

  1. Получите актуальную версию кода

        $ git remote update
        $ git checkout master
        $ git rebase upstream/master

  1. Создайте новую ветку для работы над лабораторной

        $ git checkout -b kornyakov-kirill-lab3 upstream/master

### Выполнение лабораторной

При выполнении лабораторной работы рекомендуется пользоваться проектом-примером,
находящимся в директории `kornyakov-kirill-lab3`.

  1. Создайте директорию `application` в верхней директории своего проекта.
     Создайте cpp-файл с реализацией простейшего "Hello world" приложения на
     С++.
  1. Добавьте построение нового модуля в свой корневой CMake. После этого
     запустите построение и убедитесь, что появляется новый бинарник и он
     работает (печатает "Hello world").
  1. Затем следует реализовать простейший класс `Application`.
     - Сначала он может быть чисто фиктивным, но необходимо создать заготовки
       всех файлов: заголовочный, файл с реализацией и файл с модульными
       тестами. Создайте все эти файлы, напишите примитивный (можно фиктивный)
       тест.
     - После чего снова соберите и запустите тестирование всего проекта.
       Убедитесь, что все проверки проходят (в том числе соответствие стилю
       кодирования).
  1. Сейчас готова вся инфраструктура, поэтому можно заняться реализацией
     полноценного класса Application. __Внимание__: при этом не нужно строить и
     запускать консольное приложение. Стоит работать с тестами. Рекомендуется
     делать это вместе с тестами итеративно: реализовали простой случай —
     написали на него тест, другой маленький случай — еще один тест.
  1. После того как класс `Application` реализовано, можно связать его с
     функцией `main` консольной утилиты. Это должно быть тривиально.
  1. Заключительным шагом должно стать создание CTest-тестов. Стоит обратиться к
     проекту-примеру (и документации на [CTest][ctest]), чтобы разобраться как
     именно писать такие тесты.

### Ревью кода

Заключительная часть происходит как обычно, нужно прислать пулл-реквест и пройти
ревью сокурсников и преподавателя.

В случае, когда рецензентом являетесь вы, тщательно проверяйте коды товарищей по
всем аспектам: выполнение требований лабораторной работы, убедитесь что все
тесты запускаются и проходят на Travis, что все классы грамотно спроектированы,
а код хорошо оформлен.

<!-- LINKS -->

[ctest]: http://www.vtk.org/Wiki/CMake/Testing_With_CTest
