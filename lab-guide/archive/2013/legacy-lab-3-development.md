# Лабораторная работа #3: "Разработка"

## Цели

  1. Ознакомиться с утилитой `make` для построения приложений.
  1. Освоить технику написания smoke-тестов.
  1. Ознакомиться с практикой непрерывной интеграции на примере сервиса TravisCI.

## Задачи

  1. Создать реализацию класса согласно спроектированному и задокументированному
     интерфейсу.
  1. Реализовать простое приложение, запускающее несколько проверок
     реализованного класса (smoke-тесты), и выводящее результаты в консоль.
  1. Написать Makefile, позволяющий собрать приложение из имеющихся исходных
     файлов.
  1. Отправить свои коды в виде pull request, и убедиться что компиляция
     проходит успешно, smoke-тесты запускаются и проходят.

## Инструкции

  1. Первым делом вам необходимо доразвернуть окружение. Начиная с этого момента
     лабораторные работы предстоит выполнять в UNIX окружении. Рекомендованным
     подходом является использование ОС Ubuntu или Mac OSX (можно на виртуалке).
     Допустимым подходом является использование [Cygwin](http://www.cygwin.com/)
     на Windows. Просьба сделать свой выбор самостоятельно :)
  1. В выбранном окружении предстоит установить инструменты разработки. В случае
     с Ubuntu и Mac это тривиально (нужно использовать утилиты `apt-get` или
     `brew`). В случае с Windows необходимо [скачать инсталлятор](http://cygwin.com/install.html),
     после чего перейти в командной строке в директорию с загрузкой, и выполнить
     следующую команду:
```
$ setup-x86_64.exe -q -P git,make,gcc-g++,cmake
```
     В результате будут установлены все необходимые инструменты разработки.
     После этого нужно запустить терминал Cygwin, и можно приступать к работе.
  1. Перейдите в терминале в директорию с вашим Git репозиторием. В случае с
     Cygwin к диску С:\ обращение происходит по пути `/cygdrive/c`, то есть
     чтобы попасть в корень диска, нужно набрать `cd /cygdrive/c`.
  1. Когда окажетесь в корне проекта `devtools-course`, полезно проверить что
     окружение настроено правильно. Для этого можно попробовать построить и
     запустить проект, предоставленный в качестве примера. Выполните следующие
     команды:
```
$ cd ./code/kirill-kornyakov-lab3
$ make
$ make test
```
     В результате вы должны увидеть примерно следующий вывод:
```
mkdir -p ./build
c++ -o ./build/calc ./src/simplecalc.cpp ./samples/calc.cpp -I./include
./build/calc
This is a simple calculator application!
Here is result of 2 + 3: 5
Here is result of 6 - 7: -1
```
     Это означает, что все настроено правильно, С++ компилятор, и утилита `make`
     установлены, и можно начинать работу. Если чего-то не хватает, то нужно
     будет доустановить как описано выше.
  1. Прежде чем приступить в собственно выполнению лабораторной работы, напомню
     что разработку новой функциональности следует вести в отдельных ветках Git.
     Поэтому просьба создать новую ветку, дать ей осмысленное имя (что-то вроде
     `lab3-stack`) и переключиться в нее.
  1. Следующий шаг - собственно реализация вашей функциональности. Для этого вам
     предстоит написать:
     - cpp-файл с реализацией спроектированного интерфейса
     - cpp-файл приложения, тестирующего ваш класс
     - Makefile, осуществляющий сборку вашего приложения
     В качестве примера можно использовать тот же проект в директории
     `kirill-kornyakov-lab3`.
  1. В файле с реализацией также просьба следить за стилем оформления, выбирать
     хорошие имена для переменных, не писать избыточных комментариев и вообще
     стараться содержать свой код в чистоте.
  1. В файле с консольным приложением вы должны протестировать свой класс на
     нескольких примерах. Желательно рассмотреть различные случаи, включая
     корректный и некорректный ввод.
  1. В вашем `Makefile` должны быть определены две цели: `all` и `test`. Первая
     должна строить ваше приложение, а вторая - запускать его, чтобы в консоли
     можно было убедиться в правильности работы.
  1. Также рекомендуется перед посылкой пулл-реквеста обновить свою
     [документацию](https://devtools.readthedocs.org/ru/latest/). Она должна
     быть корректно отформатирована, и соответствовать актуальному интерфейсу
     класса.
  1. Когда реализация будет закончена, и вы убедитесь локально что команда `make
     test` успешно строит проект и запускает тесты, нужно будет прислать
     очередной пулл-реквест. Просьба самостоятельно убедиться, что ваш код
     успешно проходит построение и тесты на
     [Travis](https://travis-ci.org/UNN-VMK-Software/devtools-course/pull_requests).
     Если будут какие-то проблемы, то не нужно закрывать пулл-реквест. Просто
     добавляйте коммиты в свою ветку (`lab3-stack`), и делайте ее `push` в ваш
     форк. Пулл-реквест автоматически обновится, и тестирование будет
     перезапущено. Если вы заодно захотите почистить/переписать историю, то push
     нужно будет делать с ключом `--force`.
